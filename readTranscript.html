<html>
    <head>
        <title>
            Read Transcript
        </title>
    </head>
    <body>
        <td>
            <tr>
                <label for="transcript">Enter your course type here:</label><br>
            </tr>
            <tr>
                 <input type="text" id="course" name="tr1"><br>
            </tr>
            <tr>
                <label for="transcript">Enter your courses here:</label><br>
            </tr>
            <tr>
                <input type="text" id="t1" name="tr1"><br>
            </tr>
            <tr>
                <button onclick="read()">Submit</button><br>
            </tr>
            <tr>
                <p id="t2">Nothing yet</p><br>
            </tr>
        </td>

        <script>
            function read() {
                //set the input to a variable
                let transcript = document.getElementById("t1").value;

                //find the course type
                let value = document.getElementById("course");

                //set the place it will all be printed to be blank
                document.getElementById("t2").textContent = " ";



                //check if there are any of the course code courses
                //make substrings of the courses
                //print it onto the end of the text block

                if (transcript.includes(value)) {
                    //find the first intstance
                    let first = transcript.indexOf(value, 0);
                    //find the place after the first instance but before all we want to print
                    let secondStart = first + 6;
                    //the length of the string that has been covered
                    let length = 0;

                    while((transcript.substring(length, transcript.length)).includes(value)) {
                        //find the start of the end of where we want to print
                        //update second

                        //FIX: it should find the indexOf where the next course code is not just COMSC-
                        let second = transcript.indexOf(value, secondStart);

                        //TO FIX
                        //what to do if it's the last course of this code in the string
                        if (second == -1) {
                            second = transcript.length;
                        }
                        //THE ABOVE IS NOT WORKING

                        //find the length of the substring that we want to print
                        //update subLength
                        let subLength = transcript.substring(first, second).length;
                        //concat the substring we want to print to what already exists and print
                        document.getElementById("t2").textContent = document.getElementById("t2").textContent + transcript.substring(first, second);
                        //update first to be the next thing we want to print (second)
                        first = transcript.indexOf(value, secondStart);
                        //update secondStart
                        secondStart = first + value.length;
                        //update length
                        length = length + subLength;
                    }
                }
            }
        </script>
    </body>
</html>